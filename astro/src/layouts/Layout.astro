---
import FooterForm from '@components/FooterForm';
import FooterNav from '@components/FooterNav.astro';
import FooterSocialLinks from '@components/FooterSocialLinks';
import SearchBar from '@components/SearchBar';
import SiteNav from '@components/SiteNav.astro';

const utilityMenu = [
  {
    order: 1,
    title: 'News',
    url: '/news',
  },
  {
    order: 2,
    title: 'Subscribe',
    url: '/subscribe',
  },
  {
    order: 3,
    title: 'About',
    url: '/about',
  },
  {
    order: 4,
    title: 'Contact Us',
    url: '/contact-us',
  },
];

const currentYear: number = new Date().getFullYear();
---

<header
  class='absolute bg-transparent w-full top-0 left-0 z-40 overflow-hidden'
>
  <!-- Site Navigation -->
  <SiteNav />
</header>

<!-- Search Bar -->
<SearchBar client:load />

<!-- Main Content -->
<main class='relative h-auto w-full'>
  <slot />
</main>

<!-- Footer -->
<footer class='flex flex-col relative pt-12 pb-9 px-9 bg-gray-800 text-white'>
  <div class='flex flex-col max-w-7xl mx-auto h-auto'>
    <div class='flex flex-row'>
      <div class='flex w-1/2 justify-start text-xl font-light pr-5'>
        Stay informed. Subscribe to Floreer Thinking, our periodic review of
        critical industry and service related issues
      </div>
      <div class='flex flex-row w-1/2 pl-5'>
        <FooterForm client:load />
      </div>
    </div>

    <div class='flex flex-row pt-12 pb-24'>
      <div class='flex w-1/2 justify-start text-xl font-light'>
        <img
          src='/images/floreer_logo_white.png'
          class='h-7'
          alt='Floreer white logo'
        />
      </div>
      <div class='flex w-1/2 justify-end'>
        <FooterSocialLinks client:visible />
      </div>
    </div>

    <div class='flex flex-row pt-16 pb-2'>
      <div class='flex w-full justify-start text-base font-light pb-6'>
        <FooterNav />
      </div>
    </div>

    <div class='flex flex-row'>
      <div class='flex w-full justify-start text-sm text-gray-400 font-light'>
        &copy; 2013-{currentYear} Floreer, Lda. All rights reserved.
      </div>
    </div>
  </div>
</footer>

<!-- SideNav and Back Drop -->
<!-- <div
  [@onSideNavChange]="sideNavState ? 'open' : 'close'"
  class="flex flex-col w-screen h-auto bg-gray-50 z-50"
>
  <header class="flex flex-row relative w-full h-auto border-b border-gray-300">
    <div class="flex w-1/4 h-auto">
      <nav
        class="flex relative h-24 w-full justify-start items-center pl-12 text-md font-medium"
      >
        <a (click)="routeTo([''])" class="p-3 rounded-full">
          <img
            src="assets/images/floreer_icon.png"
            alt="Welcome to Floreer"
            class="flex flex-row w-40 flex-shrink-0"
          />
        </a>
      </nav>
    </div>
    <div
      class="flex w-3/4 h-auto justify-end items-center pr-8 text-md font-medium z-30"
    >
      <ul class="flex flex-row p-0 m-0 list-none">
        <li class="p-0 m-0 list-none">
          <button
            class="flex justify-center items-center transition duration-200 ease-in-out rounded-full h-12 w-auto px-4 mx-3 text-white bg-indigo-800 hover:text-indigo-800 hover:bg-white cursor-pointer"
            (mouseenter)="hamburgerClose = true"
            (mouseleave)="hamburgerClose = false"
            (click)="onSidenavToggle()"
          >
            <ng-container *ngIf="!hamburgerClose; else hambugerCloseHover">
              <svg
                class="flex h-6 w-6 fill-current text-white transition duration-200 ease-in-out"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M6 18L18 6M6 6l12 12"
                />
              </svg>
            </ng-container>
            <ng-template #hambugerCloseHover>
              <svg
                class="flex h-6 w-6 fill-current text-indigo-800 transition duration-200 ease-in-out"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M6 18L18 6M6 6l12 12"
                />
              </svg>
            </ng-template>
          </button>
        </li>
      </ul>
    </div>
  </header>

  <main class="flex flex-row relative w-full" style="min-height: 37em">
    <div class="flex flex-col w-1/4 border-r border-gray-300">
      <a
        class="flex flex-row justify-between items-center w-auto max-h-16 ml-9 pr-6 border-b border-gray-300 cursor-pointer"
        (click)="onClickNav = 'work'"
        [style]="
          onClickNav === 'work'
            ? 'border-right: solid 4px indigo; padding-right: 20px;'
            : 'border-right: 0; margin-right: 0;'
        "
      >
        <h1 class="flex text-2xl p-6">Work</h1>
        <div class="flex w-6 h-6">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 5l7 7-7 7"
            />
          </svg>
        </div>
      </a>

      <a
        class="flex flex-row justify-between items-center w-auto max-h-16 ml-9 pr-6 border-b border-gray-300 cursor-pointer"
        (click)="routeTo(['thinking'])"
      >
        <h1 class="flex text-2xl p-6">Thinking</h1>
      </a>

      <a
        class="flex flex-row justify-between items-center w-auto max-h-16 ml-9 pr-6 border-b border-gray-300 cursor-pointer"
        (click)="onClickNav = 'about'"
        [style]="
          onClickNav === 'about'
            ? 'border-right: solid 4px indigo; padding-right: 20px;'
            : 'border-right: 0; margin-right: 0;'
        "
      >
        <h1 class="flex text-2xl p-6">About</h1>
        <div class="flex w-6 h-6">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 5l7 7-7 7"
            />
          </svg>
        </div>
      </a>

      <a
        class="flex flex-row justify-between items-center w-auto max-h-16 ml-9 pr-6 cursor-pointer"
        (click)="onClickNav = 'connect'"
        [style]="
          onClickNav === 'connect'
            ? 'border-right: solid 4px indigo; padding-right: 20px;'
            : 'border-right: 0; margin-right: 0;'
        "
      >
        <h1 class="flex text-2xl p-6">Connect</h1>
        <div class="flex w-6 h-6">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 5l7 7-7 7"
            />
          </svg>
        </div>
      </a>
    </div>

    <div class="flex w-3/4 px-36 py-4" style="min-height: 75%">
      <div *ngIf="onClickNav === 'work'">
        <ul class="text-base">
          <li
            class="py-2 mb-6 border-b border-gray-300 font-semibold cursor-pointer hover:text-indigo-800"
            (click)="routeTo(['/work/case-studies'])"
          >
            Case Studies
          </li>

          <li
            class="py-2 mb-4 border-b border-gray-300 font-semibold cursor-pointer hover:text-indigo-800"
            (click)="routeTo(['/work/services'])"
          >
            Services
          </li>
          <ul class="text-sm font-light pl-4">
            <li
              class="py-2 cursor-pointer hover:text-indigo-800"
              (click)="routeTo(['work', 'services', 'assets'])"
            >
              Assets
            </li>
            <li
              class="py-2 cursor-pointer hover:text-indigo-800"
              (click)="routeTo(['work', 'services', 'digital-delivery'])"
            >
              Digital Delivery
            </li>
            <li
              class="py-2 cursor-pointer hover:text-indigo-800"
              (click)="routeTo(['work', 'services', 'governance'])"
            >
              Governance
            </li>
            <li
              class="py-2 cursor-pointer hover:text-indigo-800"
              (click)="
                routeTo(['work', 'services', 'learning-and-development'])
              "
            >
              Learning and Development
            </li>
            <li
              class="py-2 cursor-pointer hover:text-indigo-800"
              (click)="routeTo(['work', 'services', 'performance'])"
            >
              Performance
            </li>
            <li
              class="py-2 cursor-pointer hover:text-indigo-800"
              (click)="routeTo(['work', 'services', 'procurement'])"
            >
              Procurement
            </li>
            <li
              class="py-2 cursor-pointer hover:text-indigo-800"
              (click)="routeTo(['work', 'services', 'risk'])"
            >
              Risk
            </li>
            <li
              class="py-2 cursor-pointer hover:text-indigo-800"
              (click)="routeTo(['work', 'services', 'transformation'])"
            >
              Transformation
            </li>
          </ul>

          <li
            class="py-2 mt-2 mb-6 border-b border-gray-300 font-semibold cursor-pointer hover:text-indigo-800"
            (click)="routeTo(['work', 'industries'])"
          >
            Industries
          </li>

          <li
            class="py-2 mb-6 border-b border-gray-300 font-semibold cursor-pointer hover:text-indigo-800"
            (click)="routeTo(['work', 'clients'])"
          >
            Clients
          </li>
        </ul>
      </div>

      <div *ngIf="onClickNav === 'about'">
        <ul class="text-base">
          <li
            class="py-2 mb-6 border-b border-gray-300 font-semibold cursor-pointer hover:text-indigo-800"
            (click)="routeTo(['about', 'floreer'])"
          >
            About Floreer
          </li>
          <li
            class="py-2 mb-6 border-b border-gray-300 font-semibold cursor-pointer hover:text-indigo-800"
            (click)="routeTo(['about', 'people'])"
          >
            People
          </li>
        </ul>
      </div>

      <div *ngIf="onClickNav === 'connect'">
        <ul class="text-base">
          <li
            class="py-2 mb-6 border-b border-gray-300 font-semibold cursor-pointer hover:text-indigo-800"
            (click)="routeTo(['connect', 'contact-us'])"
          >
            Contact Us
          </li>
          <li
            class="py-2 mb-6 border-b border-gray-300 font-semibold cursor-pointer hover:text-indigo-800"
            (click)="routeTo(['connect', 'locations'])"
          >
            Locations
          </li>
        </ul>
      </div>
    </div>
  </main>

  <footer class="flex relative w-full border-t border-gray-300">
    <div
      class="flex flex-row w-full justify-between items-center text-gray-500 text-xs px-9 py-6"
    >
      <div class="flex justify-start w-auto">
        &copy; 2013-2021 Floreer, Lda. All rights reserved.
      </div>
      <div class="flex justify-end w-auto">
        <ul class="flex flex-row">
          <li class="px-2">
            <a
              class="border-b border-transparent pb-1 hover:border-gray-500 transition duration-300 ease-in-out cursor-pointer"
              (click)="routeTo(['about', 'cookie-policy'])"
              >Cookie Policy</a
            >
          </li>
          |
          <li class="px-2">
            <a
              class="border-b border-transparent pb-1 hover:border-gray-500 transition duration-300 ease-in-out cursor-pointer"
              (click)="routeTo(['about', 'privacy-policy'])"
              >Privacy Policy</a
            >
          </li>
          |
          <li class="px-2">
            <a
              class="border-b border-transparent pb-1 hover:border-gray-500 transition duration-300 ease-in-out cursor-pointer"
              (click)="routeTo(['about', 'terms-of-use'])"
              >Terms of Use</a
            >
          </li>
        </ul>
      </div>
    </div>
  </footer>
</div>

<div
  [hidden]="sideNavState === false"
  [@onSideNavChange]="sideNavState ? 'black' : 'clear'"
  id="black-out"
></div> -->
